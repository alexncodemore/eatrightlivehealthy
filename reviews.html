<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Add Review</title>
</head>
<body>

<h2>Add Your Review</h2>

<form id="reviewForm">
  <input type="text" id="name" placeholder="Your Name" required><br><br>
  <textarea id="message" placeholder="Your Review" required></textarea><br><br>
  <button type="submit">Submit Review</button>
</form>

<p id="status"></p>

<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
  import { 
    getFirestore, 
    collection, 
    addDoc, 
    serverTimestamp 
  } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

  // üî• YOUR FIREBASE CONFIG (same as appointment)
  const firebaseConfig = {
    apiKey: "AIzaSyA6ZTqlQxxKO9QDTXuK_1R0oQ5gZr_-2Vc",
    authDomain: "eat-right-live-healthy.firebaseapp.com",
    projectId: "eat-right-live-healthy",
    storageBucket: "eat-right-live-healthy.firebasestorage.app",
    messagingSenderId: "1082103302889",
    appId: "1:1082103302889:web:4eccd9eb04485216d47e78"
  };

  const app = initializeApp(firebaseConfig);
  const db = getFirestore(app);

  const form = document.getElementById("reviewForm");
  const status = document.getElementById("status");

  form.addEventListener("submit", async (e) => {
    e.preventDefault();

    const name = document.getElementById("name").value;
    const message = document.getElementById("message").value;

    try {
      await addDoc(collection(db, "reviews"), {
        name,
        message,
        createdAt: serverTimestamp()
      });

      status.innerText = "‚úÖ Review submitted successfully";
      form.reset();
    } catch (err) {
      status.innerText = "‚ùå Error submitting review";
      console.error(err);
    }
  });
</script>

</body>
</html>
